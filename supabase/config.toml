
# Disable platform-level JWT verification for send-invite because the function
# performs its own authentication checks (supports admin secret or Bearer token
# validation against /auth/v1/user). Leaving platform verify_jwt enabled caused
# the gateway to return 401 before the function executed.
[functions."send-invite"]
enabled = true
verify_jwt = false
entrypoint = "./functions/send-invite/index.ts"

# Disable platform-level JWT verification for delete-user as we perform our own
# authentication and fine-grained authorization checks (require professional role
# and same company). If verify_jwt is left enabled the gateway may reject valid
# Bearer tokens before the function runs (observed behavior).
[functions."delete-user"]
enabled = true
verify_jwt = false
entrypoint = "./functions/delete-user/index.ts"


# Disable platform-level JWT verification for update-client as well for the
# same reasons (the function validates tokens itself and performs fine-grained checks).
[functions."update-client"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-client/index.ts"


# Disable platform-level JWT verification for create-account as well (the function
# performs its own authentication checks and may accept admin-secret or bearer tokens
# validated against /auth/v1/user). Leaving verify_jwt enabled caused the gateway to
# reject valid tokens before the function ran.
[functions."create-account"]
enabled = true
verify_jwt = false
entrypoint = "./functions/create-account/index.ts"

[functions."update-professional"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-professional/index.ts"

# Disable platform-level JWT verification for update-company as the function performs
# its own authentication checks (verifies bearer tokens against auth/v1/user or admin secret).
[functions."update-company"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-company/index.ts"

# Disable platform-level JWT verification for password-reset (function validates token or uses email flow)
[functions."password-reset"]
enabled = true
verify_jwt = false
entrypoint = "./functions/password-reset/index.ts"

# Disable platform-level JWT verification for send-reset-password (function performs its own auth checks)
[functions."send-reset-password"]
enabled = true
verify_jwt = false
entrypoint = "./functions/send-reset-password/index.ts"

# send-invite-test moved to functions/examples/ (development/test helper)

# Disable platform-level JWT verification for upload-company-logo (we perform token validation in the function)
[functions."upload-company-logo"]
enabled = true
verify_jwt = false
entrypoint = "./functions/upload-company-logo/index.ts"


# Propagate classes - creates events and updates profiles.class_credits
[functions."propagate-classes"]
enabled = true
verify_jwt = false
entrypoint = "./functions/propagate-classes/index.ts"

# test-fn moved to functions/examples/ (development/test helper)


[functions."get-signed-url"]
enabled = true
verify_jwt = false
entrypoint = "./functions/get-signed-url/index.ts"
