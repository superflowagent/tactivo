
[functions.hello-world]
enabled = true
verify_jwt = false
import_map = "./functions/hello-world/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/hello-world/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/hello-world/*.html" ]

# Disable platform-level JWT verification for send-invite because the function
# performs its own authentication checks (supports admin secret or Bearer token
# validation against /auth/v1/user). Leaving platform verify_jwt enabled caused
# the gateway to return 401 before the function executed.
[functions."send-invite"]
enabled = true
verify_jwt = false
entrypoint = "./functions/send-invite/index.ts"

# Disable platform-level JWT verification for delete-user as we perform our own
# authentication and fine-grained authorization checks (require professional role
# and same company). If verify_jwt is left enabled the gateway may reject valid
# Bearer tokens before the function runs (observed behavior).
[functions."delete-user"]
enabled = true
verify_jwt = false
entrypoint = "./functions/delete-user/index.ts"

# Disable platform-level JWT verification for create-client as we perform our own
# authentication and validate tokens against /auth/v1/user; platform-level
# verification may reject valid bearer tokens before our code runs.
[functions."create-client"]
enabled = true
verify_jwt = false
entrypoint = "./functions/create-client/index.ts"

# Disable platform-level JWT verification for update-client as well for the
# same reasons (the function validates tokens itself and performs fine-grained checks).
[functions."update-client"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-client/index.ts"

[functions."create-professional"]
enabled = true
verify_jwt = false
entrypoint = "./functions/create-professional/index.ts"

[functions."update-professional"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-professional/index.ts"

# Disable platform-level JWT verification for update-company as the function performs
# its own authentication checks (verifies bearer tokens against auth/v1/user or admin secret).
[functions."update-company"]
enabled = true
verify_jwt = false
entrypoint = "./functions/update-company/index.ts"

# Disable platform-level JWT verification for password-reset (function validates token or uses email flow)
[functions."password-reset"]
enabled = true
verify_jwt = false
entrypoint = "./functions/password-reset/index.ts"

# Disable platform-level JWT verification for send-invite-test
[functions."send-invite-test"]
enabled = true
verify_jwt = false
entrypoint = "./functions/send-invite-test/index.ts"

# Disable platform-level JWT verification for upload-company-logo (we perform token validation in the function)
[functions."upload-company-logo"]
enabled = true
verify_jwt = false
entrypoint = "./functions/upload-company-logo/index.ts"


# Propagate classes - creates events and updates profiles.class_credits
[functions."propagate-classes"]
enabled = true
verify_jwt = false
entrypoint = "./functions/propagate-classes/index.ts"

# Added by scripts/new-edge-function.js
[functions."test-fn"]
enabled = true
verify_jwt = false
entrypoint = "./functions/test-fn/index.ts"

# Register-user function: create company + professional profile + send reset
[functions."register-user"]
enabled = true
verify_jwt = false
entrypoint = "./functions/register-user/index.ts"
